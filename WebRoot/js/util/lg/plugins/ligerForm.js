(function(a){a.fn.ligerForm=function(){return a.ligerui.run.call(this,"ligerForm",arguments);};a.ligerDefaults=a.ligerDefaults||{};a.ligerDefaults.Form={inputWidth:180,labelWidth:90,space:40,rightToken:"ï¼š",labelAlign:"left",align:"left",fields:[],appendID:true,prefixID:"",toJSON:a.ligerui.toJSON};a.ligerDefaults.Form.editorBulider=function(f){var c=this,e=this.options;var d={};if(e.inputWidth){d.width=e.inputWidth;}if(f.is("select")){f.ligerComboBox(d);}else{if(f.is(":text")||f.is(":password")){var b=f.attr("ltype");switch(b){case"select":case"combobox":f.ligerComboBox(d);break;case"spinner":f.ligerSpinner(d);break;case"date":f.ligerDateEditor(d);break;case"float":case"number":d.number=true;f.ligerTextBox(d);break;case"int":case"digits":d.digits=true;default:f.ligerTextBox(d);break;}}else{if(f.is(":radio")){f.ligerRadio(d);}else{if(f.is(":checkbox")){f.ligerCheckBox(d);}else{if(f.is("textarea")){f.addClass("l-textarea");}}}}}};a.ligerui.controls.Form=function(c,b){a.ligerui.controls.Form.base.constructor.call(this,c,b);};a.ligerui.controls.Form.ligerExtend(a.ligerui.core.UIComponent,{__getType:function(){return"Form";},__idPrev:function(){return"Form";},_init:function(){a.ligerui.controls.Form.base._init.call(this);},_render:function(){var d=this,e=this.options;var c=a(this.element);if(e.fields&&e.fields.length){if(!c.hasClass("l-form")){c.addClass("l-form");}var b=[];var f=false;a(e.fields).each(function(h,i){var g=i.name||i.id;if(!g){return;}if(i.type=="hidden"){b.push('<input type="hidden" id="'+g+'" name="'+g+'" />');return;}var j=i.renderToNewLine||i.newline;if(j==null){j=true;}if(i.merge){j=false;}if(i.group){j=true;}if(j){if(f){b.push("</ul>");f=false;}if(i.group){b.push('<div class="l-group');if(i.groupicon){b.push(" l-group-hasicon");}b.push('">');if(i.groupicon){b.push('<img src="'+i.groupicon+'" />');}b.push("<span>"+i.group+"</span></div>");}b.push("<ul>");f=true;}b.push(d._buliderLabelContainer(i));b.push(d._buliderControlContainer(i));b.push(d._buliderSpaceContainer(i));});if(f){b.push("</ul>");f=false;}c.append(b.join(""));}a("input,select,textarea",c).each(function(){e.editorBulider.call(d,a(this));});},_buliderLabelContainer:function(i){var f=this,h=this.options;var d=i.label||i.display;var b=i.labelWidth||i.labelwidth||h.labelWidth;var e=i.labelAlign||h.labelAlign;if(d){d+=h.rightToken;}var c=[];c.push('<li style="');if(b){c.push("width:"+b+"px;");}if(e){c.push("text-align:"+e+";");}c.push('">');if(d){c.push(d);}c.push("</li>");return c.join("");},_buliderControlContainer:function(f){var d=this,e=this.options;var c=f.width||e.inputWidth;var h=f.align||f.textAlign||f.textalign||e.align;var b=[];b.push('<li style="');if(c){b.push("width:"+c+"px;");}if(h){b.push("text-align:"+h+";");}b.push('">');b.push(d._buliderControl(f));b.push("</li>");return b.join("");},_buliderSpaceContainer:function(f){var c=this,e=this.options;var d=f.space||f.spaceWidth||e.space;var b=[];b.push('<li style="');if(d){b.push("width:"+d+"px;");}b.push('">');b.push("</li>");return b.join("");},_buliderControl:function(j){var h=this,i=this.options;var e=j.width||i.inputWidth;var c=j.name||j.id;var b=[];if(j.comboboxName&&j.type=="select"){b.push('<input type="hidden" id="'+i.prefixID+c+'" name="'+c+'" />');}if(j.textarea||j.type=="textarea"){b.push("<textarea ");}else{if(j.type=="checkbox"){b.push('<input type="checkbox" ');}else{if(j.type=="radio"){b.push('<input type="radio" ');}else{if(j.type=="password"){b.push('<input type="password" ');}else{b.push('<input type="text" ');}}}}if(j.cssClass){b.push('class="'+j.cssClass+'" ');}if(j.type){b.push('ltype="'+j.type+'" ');}if(j.attr){for(var f in j.attr){b.push(f+'="'+j.attr[f]+'" ');}}if(j.comboboxName&&j.type=="select"){b.push('name="'+j.comboboxName+'"');if(i.appendID){b.push(' id="'+i.prefixID+j.comboboxName+'" ');}}else{b.push('name="'+c+'"');if(i.appendID){b.push(' id="'+c+'" ');}}var d=a.extend({width:e-2},j.options||{});b.push(" ligerui='"+i.toJSON(d)+"' ");if(j.validate){b.push(" validate='"+i.toJSON(j.validate)+"' ");}b.push(" />");return b.join("");}});})(jQuery);