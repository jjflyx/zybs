(function(){var b=baidu.editor.utils,d=baidu.editor.ui.Popup,e=baidu.editor.ui.AutoTypeSetPicker,a=baidu.editor.ui.SplitButton,f=baidu.editor.ui.AutoTypeSetButton=function(g){this.initOptions(g);this.initAutoTypeSetButton();};function c(r){var h=r.editor.options.autotypeset,v=r.getDom(),p=domUtils.getElementsByTagName(v,"input");for(var m=p.length-1,u;u=p[m--];){if(u.getAttribute("type")=="checkbox"){var s=u.getAttribute("name");h[s]&&delete h[s];if(u.checked){var n=document.getElementById(s+"Value");if(n){if(/input/ig.test(n.tagName)){h[s]=n.value;}else{var g=n.getElementsByTagName("input");for(var k=g.length-1,t;t=g[k--];){if(t.checked){h[s]=t.value;break;}}}}else{h[s]=true;}}}}var q=domUtils.getElementsByTagName(v,"select");for(var m=0,l;l=q[m++];){var o=l.getAttribute("name");h[o]=h[o]?l.value:"";}r.editor.options.autotypeset=h;}f.prototype={initAutoTypeSetButton:function(){var h=this;this.popup=new d({content:new e({editor:h.editor}),"editor":h.editor,hide:function(){if(!this._hidden&&this.getDom()){c(this);this.getDom().style.display="none";this._hidden=true;this.fireEvent("hide");}}});var g=0;this.popup.addListener("postRenderAfter",function(){var j=this;if(g){return;}var i=this.getDom(),k=i.getElementsByTagName("button")[0];k.onclick=function(){c(j);h.editor.execCommand("autotypeset");};g=1;});this.initSplitButton();}};b.inherits(f,a);})();