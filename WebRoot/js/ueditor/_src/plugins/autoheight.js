UE.plugins["autoheight"]=function(){var d=this;d.autoHeightEnabled=d.options.autoHeightEnabled!==false;if(!d.autoHeightEnabled){return;}var a,c,b,e=0,f,h;function g(){clearTimeout(h);h=setTimeout(function(){if(d.queryCommandState("source")!=1){if(!c){c=d.document.createElement("span");c.style.cssText="display:block;width:0;margin:0;padding:0;border:0;clear:both;";c.innerHTML=".";}b=c.cloneNode(true);d.body.appendChild(b);f=Math.max(domUtils.getXY(b).y+b.offsetHeight,d.options.minFrameHeight);if(f!=e){d.setHeight(f);e=f;}domUtils.remove(b);}},50);}d.addListener("destroy",function(){d.removeListener("contentchange",g);d.removeListener("keyup",g);d.removeListener("mouseup",g);});d.enableAutoHeight=function(){if(!d.autoHeightEnabled){return;}var i=d.document;d.autoHeightEnabled=true;a=i.body.style.overflowY;i.body.style.overflowY="hidden";d.addListener("contentchange",g);d.addListener("keyup",g);d.addListener("mouseup",g);setTimeout(function(){g();},browser.gecko?100:0);d.fireEvent("autoheightchanged",d.autoHeightEnabled);};d.disableAutoHeight=function(){d.body.style.overflowY=a||"";d.removeListener("contentchange",g);d.removeListener("keyup",g);d.removeListener("mouseup",g);d.autoHeightEnabled=false;d.fireEvent("autoheightchanged",d.autoHeightEnabled);};d.addListener("ready",function(){d.enableAutoHeight();var i;domUtils.on(browser.ie?d.body:d.document,browser.webkit?"dragover":"drop",function(){clearTimeout(i);i=setTimeout(function(){g();},100);});});};